# linux免密登陆

## 为什么要免密登陆？
- 方便登陆，不用输入密码
- 不输入密码则不用进行人机交互，为自动化部署做准备


## 步骤

###  生成秘钥对 <br>
对称加密和不对称加密两种方式，对生成公钥（加密）和私钥（解密）<br>
命令<br>
``ssh-keygen -t rsa -C "你自己取的名字" -f "秘钥对的名字"``<br>
-t rsa 表示指定算法 rsa <br>
注意：名字的双引号一定要带上，生成后会让你设置秘钥的密码，这里直接回车不输入密码。<br>


### 上传配置公钥
- 上传公钥到服务器对应的用户文件夹下的.ssh文件夹中，如home/zhangsan/,root用户则在根目录下的root文件夹下的.ssh文件夹中，使用 ls -a可以查看到该隐藏目录

- 使用命令上传到服务器对应的文件夹中

``ssh-copy-id -i “公钥文件名” 用户名@服务器ip或域名``

- 配置公钥的访问权限为600

- 配置完成就可以直接ssh免密登陆了

- ``
    ssh -p 22 用户名@ip地址或域名 -i 你的私钥
``

### 配置本地私钥
- 把私要放在home目录下的.ssh目录下
- 配置私钥的权限为600 `chmod 600 你的文件名`

### 免密登陆功能的本地配置文件
- 编辑自己home目录下的.ssh/ 路径下的config，没有就新建目录和文件
- 配置config 的权限为 644
- 配置信息如下：


```
#你要配置的网站
Host  jjmou  #网站别名
    HostName xx.xx.xx.xx   #网站的ip
    Port  22  #默认为22， 可以不配置该项
    User  root  # 用户名
    IdentityFile    ~/.ssh/jjmou-key  #配置本地私钥文件地址
```

### 如何免密登陆
配置完成后打开终端输入： `ssh jjmou` 就能直接连上